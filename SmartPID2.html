<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أداة إنشاء بطاقة معلومات التواصل الشخصية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');

        body { font-family: 'Tajawal', sans-serif; }
        .contact-card {
            width: 350px;
            min-height: 220px;
            background: #ffffff;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .contact-card p { font-size: 14px; margin: 4px 0; color: #333; display: flex; align-items: center; }
        .contact-card h2 { font-size: 18px; color: #333; margin-bottom: 8px; font-weight: bold; }
        .fa-linkedin { color: #0077B5; }
        .fa-twitter { color: #1DA1F2; }
        .fa-instagram { color: #E4405F; }
        .fa-snapchat { color: #FFFC00; }
        .fa-user, .fa-briefcase, .fa-city, .fa-mobile-alt, .fa-phone, .fa-calendar-alt { color: #5D5CDE; }
        .save-btn { background: #5D5CDE; color: white; padding: 6px 12px; border-radius: 8px; font-size: 12px; }
        .save-btn:hover { background: #7A79FF; }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6">
        <h1 class="text-3xl font-bold text-center text-primary">أداة إنشاء بطاقة معلومات التواصل الشخصية</h1>
        <p class="text-center text-gray-500 mt-2">إنشاء بطاقة احترافية لمعلومات التواصل الخاصة بك</p>

        <div id="errorMessage" class="hidden mb-6 p-3 bg-red-100 text-red-700 rounded-lg text-center"></div>

        <div id="formContainer" class="max-w-3xl mx-auto bg-white p-6 rounded-xl shadow-md space-y-4">
            <!-- حقول الإدخال -->
            <div>
                <label for="name" class="block mb-2 font-medium text-lg">اسمك</label>
                <div class="flex items-center">
                    <i class="fas fa-user text-primary mr-2"></i>
                    <input type="text" id="name" placeholder="أدخل اسمك الكامل" class="w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
            </div>
            <div>
                <label for="job" class="block mb-2 font-medium text-lg">الوظيفة</label>
                <div class="flex items-center">
                    <i class="fas fa-briefcase text-primary mr-2"></i>
                    <input type="text" id="job" placeholder="أدخل وظيفتك" class="w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
            </div>
            <div>
                <label for="city" class="block mb-2 font-medium text-lg">مدينتك</label>
                <div class="flex items-center">
                    <i class="fas fa-city text-primary mr-2"></i>
                    <input type="text" id="city" placeholder="أدخل مدينتك" class="w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
            </div>
            <div>
                <label for="phone" class="block mb-2 font-medium text-lg">رقم الجوال</label>
                <div class="flex items-center">
                    <i class="fas fa-mobile-alt text-primary mr-2"></i>
                    <input type="tel" id="phone" placeholder="أدخل رقم الجوال" class="w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
            </div>
            <div>
                <label for="officePhone" class="block mb-2 font-medium text-lg">رقم المكتب</label>
                <div class="flex items-center">
                    <i class="fas fa-phone text-primary mr-2"></i>
                    <input type="tel" id="officePhone" placeholder="أدخل رقم المكتب" class="w-full p-3 border border-gray-300 rounded-lg" required>
                </div>
            </div>
            <div>
                <label for="linkedin" class="block mb-2 font-medium text-lg">LinkedIn (اختياري)</label>
                <div class="flex items-center">
                    <i class="fab fa-linkedin text-primary mr-2"></i>
                    <input type="url" id="linkedin" placeholder="أدخل رابط LinkedIn" class="w-full p-3 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div>
                <label for="twitter" class="block mb-2 font-medium text-lg">Twitter (اختياري)</label>
                <div class="flex items-center">
                    <i class="fab fa-twitter text-primary mr-2"></i>
                    <input type="url" id="twitter" placeholder="أدخل رابط Twitter" class="w-full p-3 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div>
                <label for="instagram" class="block mb-2 font-medium text-lg">Instagram (اختياري)</label>
                <div class="flex items-center">
                    <i class="fab fa-instagram text-primary mr-2"></i>
                    <input type="url" id="instagram" placeholder="أدخل رابط Instagram" class="w-full p-3 border border-gray-300 rounded-lg">
                </div>
            </div>
            <div>
                <label for="snapchat" class="block mb-2 font-medium text-lg">Snapchat (اختياري)</label>
                <div class="flex items-center">
                    <i class="fab fa-snapchat text-primary mr-2"></i>
                    <input type="url" id="snapchat" placeholder="أدخل رابط Snapchat" class="w-full p-3 border border-gray-300 rounded-lg">
                </div>
            </div>
            <button id="generateBtn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg">
                إنشاء بطاقات التواصل
            </button>
            <button id="resetBtn" class="w-full bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium py-3 px-4 rounded-lg">
                إعادة تعيين
            </button>
        </div>

        <div id="infoContainer" class="hidden">
            <div id="loadingState" class="relative h-40 flex items-center justify-center">
                <div class="spinner"></div>
                <p class="ml-4 text-gray-600">جارٍ إنشاء البطاقات...</p>
            </div>
            <div id="dashboard" class="hidden grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- البطاقة العربية -->
                <div id="card1" class="contact-card" dir="rtl">
                    <h2 class="text-center">بطاقة معلومات التواصل الشخصية</h2>
                    <div class="space-y-1">
                        <p><i class="fas fa-user mr-2"></i> <span id="card1Name"></span></p>
                        <p><i class="fas fa-briefcase mr-2"></i> <span id="card1Job"></span></p>
                        <p><i class="fas fa-city mr-2"></i> <span id="card1City"></span></p>
                        <p><i class="fas fa-mobile-alt mr-2"></i> <span id="card1Phone"></span></p>
                        <p><i class="fas fa-phone mr-2"></i> <span id="card1OfficePhone"></span></p>
                        <p><i class="fab fa-linkedin mr-2"></i> <span id="card1LinkedIn"></span></p>
                        <p><i class="fab fa-twitter mr-2"></i> <span id="card1Twitter"></span></p>
                        <p><i class="fab fa-instagram mr-2"></i> <span id="card1Instagram"></span></p>
                        <p><i class="fab fa-snapchat mr-2"></i> <span id="card1Snapchat"></span></p>
                    </div>
                    <div class="text-center">
                        <button id="saveCard1" class="save-btn">حفظ كصورة</button>
                        <p class="text-[8px] text-gray-500 mt-1">جميع الحقوق محفوظة © <span id="currentYear1"></span></p>
                    </div>
                </div>

                <!-- البطاقة الإنجليزية -->
                <div id="card2" class="contact-card" dir="ltr">
                    <h2 class="text-center">Personal Contact Information Card</h2>
                    <div class="space-y-1">
                        <p><i class="fas fa-user mr-2"></i> <span id="card2Name"></span></p>
                        <p><i class="fas fa-briefcase mr-2"></i> <span id="card2Job"></span></p>
                        <p><i class="fas fa-city mr-2"></i> <span id="card2City"></span></p>
                        <p><i class="fas fa-mobile-alt mr-2"></i> <span id="card2Phone"></span></p>
                        <p><i class="fas fa-phone mr-2"></i> <span id="card2OfficePhone"></span></p>
                        <p><i class="fab fa-linkedin mr-2"></i> <span id="card2LinkedIn"></span></p>
                        <p><i class="fab fa-twitter mr-2"></i> <span id="card2Twitter"></span></p>
                        <p><i class="fab fa-instagram mr-2"></i> <span id="card2Instagram"></span></p>
                        <p><i class="fab fa-snapchat mr-2"></i> <span id="card2Snapchat"></span></p>
                    </div>
                    <div class="text-center">
                        <button id="saveCard2" class="save-btn">Save as Image</button>
                        <p class="text-[8px] text-gray-500 mt-1">All rights reserved © <span id="currentYear2"></span></p>
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-6 pt-4 border-t border-gray-200 text-center text-gray-500 text-sm">
            <p>جميع الحقوق محفوظة © <span id="currentYearFooter"></span></p>
            <p class="mt-1">تم التطوير بواسطة <span class="font-bold text-primary">علي عبدالله بكري</span></p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        let userData = null;

        // قواميس للترجمة
        const translations = {
            ar: {
                "Engineer": "مهندس",
                "Riyadh": "الرياض",
                "Not specified": "غير محدد"
            },
            en: {
                "مهندس": "Engineer",
                "الرياض": "Riyadh",
                "غير محدد": "Not specified"
            }
        };

        // دالة الترجمة البسيطة
        function translateText(text, targetLang) {
            return translations[targetLang][text] || text;
        }

        // عرض البطاقات
        function displayUserInfo() {
            const { name, job, city, phone, officePhone, linkedin, twitter, instagram, snapchat } = userData;

            // ترجمة النصوص
            const nameAr = translateText(name, 'ar');
            const nameEn = translateText(name, 'en');
            const jobAr = translateText(job, 'ar');
            const jobEn = translateText(job, 'en');
            const cityAr = translateText(city, 'ar');
            const cityEn = translateText(city, 'en');

            // تحديث البطاقة العربية
            document.getElementById('card1Name').textContent = nameAr;
            document.getElementById('card1Job').textContent = jobAr;
            document.getElementById('card1City').textContent = cityAr;
            document.getElementById('card1Phone').textContent = phone;
            document.getElementById('card1OfficePhone').textContent = officePhone;
            document.getElementById('card1LinkedIn').textContent = linkedin || 'غير محدد';
            document.getElementById('card1Twitter').textContent = twitter || 'غير محدد';
            document.getElementById('card1Instagram').textContent = instagram || 'غير محدد';
            document.getElementById('card1Snapchat').textContent = snapchat || 'غير محدد';

            // تحديث البطاقة الإنجليزية
            document.getElementById('card2Name').textContent = nameEn;
            document.getElementById('card2Job').textContent = jobEn;
            document.getElementById('card2City').textContent = cityEn;
            document.getElementById('card2Phone').textContent = phone;
            document.getElementById('card2OfficePhone').textContent = officePhone;
            document.getElementById('card2LinkedIn').textContent = linkedin || 'Not specified';
            document.getElementById('card2Twitter').textContent = twitter || 'Not specified';
            document.getElementById('card2Instagram').textContent = instagram || 'Not specified';
            document.getElementById('card2Snapchat').textContent = snapchat || 'Not specified';

            // إظهار البطاقات
            document.getElementById('loadingState').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
        }

        // حفظ البطاقات كصور
        function setupSaveButtons() {
            ['saveCard1', 'saveCard2'].forEach(id => {
                const button = document.getElementById(id);
                button.onclick = () => {
                    const cardId = id.replace('save', 'card');
                    html2canvas(document.getElementById(cardId)).then(canvas => {
                        const link = document.createElement('a');
                        link.download = `contact_card_${cardId.replace('card', '')}.png`;
                        link.href = canvas.toDataURL('image/png');
                        link.click();
                    });
                };
            });
        }

        // تهيئة التطبيق
        function initApp() {
            document.getElementById('generateBtn').onclick = (e) => {
                e.preventDefault();

                const name = document.getElementById('name').value;
                const job = document.getElementById('job').value;
                const city = document.getElementById('city').value;
                const phone = document.getElementById('phone').value;
                const officePhone = document.getElementById('officePhone').value;
                const linkedin = document.getElementById('linkedin').value;
                const twitter = document.getElementById('twitter').value;
                const instagram = document.getElementById('instagram').value;
                const snapchat = document.getElementById('snapchat').value;

                if (!name || !job || !city || !phone || !officePhone) {
                    alert('يرجى ملء جميع الحقول الإلزامية');
                    return;
                }

                userData = { name, job, city, phone, officePhone, linkedin, twitter, instagram, snapchat };
                document.getElementById('formContainer').classList.add('hidden');
                document.getElementById('infoContainer').classList.remove('hidden');
                displayUserInfo();
                setupSaveButtons();
            };

            document.getElementById('resetBtn').onclick = () => {
                document.getElementById('formContainer').classList.remove('hidden');
                document.getElementById('infoContainer').classList.add('hidden');
            };
        }

        window.onload = initApp;
    </script>
</body>
</html>
